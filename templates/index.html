<!doctype html>
<html>
<head>
  <title>TDX Bus Entertainment Login</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body { background: #16161a; color: #FFD700; font-family: Arial,sans-serif; }
    .login-container { max-width:380px; margin:90px auto; background:#232103; border-radius:12px; box-shadow:0 2px 14px #FFD70077; padding:2em;}
    h2 {text-align:center;}
    label {display:block; margin:1em 0 0.5em 0;}
    input {width:100%;padding:10px;border:1px solid #ffd70055;border-radius:5px;background:#222;color:#FFD700;}
    button {width:100%;background:#FFD700;color:#222;padding:12px;border:none;border-radius:7px;font-size:1.07em;font-weight:bold;margin-top:1em;}
    .error { color:#c44; margin-top:.7em; }
    .reglink { margin-top: 1.2em; text-align: center;}
    .reglink a { color:#FFD700; }
  </style>
</head>
<body>
{% set banner = get_banner_message() %}
{% if banner %}
  <div id="tdx-banner-box">
    <span id="tdx-banner-content">{{ banner }}</span>
  </div>
  <style>
    #tdx-banner-box { width:100vw;min-width:320px;max-width:100vw;position:fixed;left:0;top:0;z-index:1101;background: linear-gradient(90deg,#201a0a,#FFD700b7 85%,#201a0a);border-bottom:2px solid #ffd70088; box-shadow: 0 2px 18px #FFD70055;}
    #tdx-banner-content { display:inline-block; color: #222; font-size: 1.11em; font-weight: bold; letter-spacing:0.04em; text-shadow: 0 1px 10px #FFD70066, 0 2px 8px #0005; white-space:nowrap; animation: tdx-banner-scroll 15s linear infinite; padding:10px 58vw 10px 0;}
    @keyframes tdx-banner-scroll { 0%{transform:translateX(110vw);} 100%{transform:translateX(-100%);} }
    body {padding-top:50px !important;}
  </style>
{% endif %}
<div class="login-container">
  <h2>TDX Bus Entertainment</h2>
  <p style="text-align:center;">Bus Reg: {{ bus.registration }}<br>Route: {{ bus.route }}<br>ETA: {{ bus.estimated_arrival }}</p>
  <form method="post" autocomplete="off">
    {{ form.hidden_tag() }}
    <label>Seat Number: {{ form.seat(size=5) }}</label>
    <label>Phone <b>or</b> Loyalty ID: {{ form.credential(size=22) }}</label>
    <button type="submit">Login</button>
  </form>
  {% if error %}<div class="error">{{ error }}</div>{% endif %}
  <div class="reglink"><a href="{{ url_for('register') }}">Join Rewards Program</a></div>
</div>
</body>
</html>
